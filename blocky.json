{
  "name": "blocky",
  "type": "list_of_articles",
  "description": "the template with three articles and fourth divided boxes",
  "content": "<%\nconst currentYear = new Date().getFullYear();\nconst currentMonth = new Date().toLocaleString('default', { month: 'long' }).toUpperCase();\nconst currentDateFormatted = `${currentMonth} ${currentYear}`;\nlet emergencyNews = null;\nlet otherNews = [];\n\nconsole.log(`Total Articles: ${articles.length}`);\nconsole.log(`maxArticlesFull: ${maxArticlesFull}`);\n\nconst removeImages = (html) => {\n    return html.replace(/<img[^>]*>/g, '');\n};\n\nconst blocks = articles.map((article, index) => {\n    return {\n        color: colorList[index % colorList.length],\n        category: article.category.toUpperCase(),\n        title: article.title,\n        intro: removeImages(article.intro)\n    };\n});\n\nif (articles.length > maxArticlesFull) {\n    emergencyNews = articles[maxArticlesFull];\n    emergencyNews.intro = removeImages(emergencyNews.intro);  // Remove images from emergencyNews.intro\n    console.log(`Emergency news assigned: ${emergencyNews.title}`);\n    otherNews = articles.slice(maxArticlesFull + 1);\n    console.log(`Other news articles count: ${otherNews.length}`);\n} \n%>\n\n<body style=\"margin: 0; padding: 0; background-color: #ffffff; font-family: Inter, Arial, sans-serif;\">\n<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\">\n    <tr>\n        <td align=\"right\" style=\"padding: 10px; font-size: 16px;\">\n            <!-- Current month dynamically generated by server-side or manually adjusted -->\n            <%= currentDateFormatted %>\n        </td>\n    </tr>\n    <tr>\n        <td>\n            <!-- Leaderboard banner image -->\n            <img src=\"<%= bannerUrl %>\" width=\"600\"\n                 height=\"100\" alt=\"EMSA Staff Newsletter\" style=\"display: block; width: 100%; height: auto; border: 0;\">\n        </td>\n    </tr>\n    <tr>\n        <td style=\"background-color: #E8F7FD; padding-top: 21px; padding-left: 46px; padding-right: 46px;\">\n            <!-- Full width articles -->\n            <table width=\"100%\">\n                <tr>\n                    <td>\n                        <!--BEGIN of Full width articles LOOP -->\n                        <% blocks.slice(0, maxArticlesFull).forEach(function(block, index) { %>\n                            <table width=\"100%\" style=\"background-color: #FFFFFF; margin-bottom: 21px;\">\n                                <tr>\n                                    <!-- The background color of the header is generated dynamically -->\n                                    <td style=\"height: 100px; background-color: <%= block.color %>; padding-left: 46px;\">\n                                        <span style=\"color: #FFFFFF; font-size: 20.25px; font-family: Inter, Arial, Helvetica, sans-serif;\"><%= block.category %></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style=\"padding-left: 46px; padding-top: 23px; padding-bottom: 46px;\">\n                                        <!-- The title is generated dynamically and must have the same color has the as the header background -->\n\n                                        <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                            <tr>\n                                                <td style=\"font-size: 18px; font-family: Inter, Arial, Helvetica, sans-serif; font-weight: 900; text-decoration: none; color: <%= block.color %>;\">\n                                                    <a href=\"#\"\n                                                       style=\"text-decoration: none; color: <%= block.color %>;\">\n                                                        <%= block.title %>\n                                                    </a>\n                                                </td>\n                                            </tr>\n                                        </table>\n\n                                        <p style=\"font-size: 16.5px; font-family: Inter, 'Arial Light', Arial, Helvetica, sans-serif; font-weight: 200;\">\n                                            <%- block.intro %>\n                                        </p>\n                                    </td>\n                                </tr>\n                            </table>\n                            <!-- END OF Full width articles LOOP -->\n                        <% }); %>\n                    </td>\n                </tr>\n            </table>\n\n            <table width=\"100%\" style=\"border-collapse: collapse; table-layout: fixed;\">\n                <tr>\n                    <!-- LEFT COLUMN -->\n                    <td width=\"48%\" style=\"vertical-align: top; padding-right: 11.5px;\" valign=\"top\">\n                        <% if (emergencyNews) { %>\n                            <table width=\"100%\"\n                                   style=\"background-color: #FFFFFF; margin-bottom: 21px; min-height: 350px;\">\n                                <tr>\n                                    <!-- The background color of the header is generated dynamically -->\n                                    <td style=\"height: 100px; background-color: #E15E57; padding-left: 46px;\">\n                                        <span style=\"color: #FFFFFF; font-size: 20.25px; font-family: Inter, Arial, Helvetica, sans-serif;\"><%= emergencyNews.category %></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style=\"padding-left: 46px; padding-top:23px; vertical-align: top;\" valign=\"top\">\n                                        <!-- The title is generated dynamically and must have the same color as the header background -->\n\n                                        <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                            <tr>\n                                                <td style=\"font-size: 18px; font-family: Inter, Arial, Helvetica, sans-serif; font-weight: 900; text-decoration: none; color: #E15E57;\">\n                                                    <a href=\"#\" style=\"text-decoration: none; color: #E15E57;\">\n                                                        <%= emergencyNews.title %>\n                                                    </a>\n                                                </td>\n                                            </tr>\n                                        </table>\n\n                                        <p style=\"font-size: 16.5px; font-family: Inter, 'Arial Light', Arial, Helvetica, sans-serif; font-weight: 200;\">\n                                            <%- emergencyNews.intro %>\n                                        </p>\n                                    </td>\n                                </tr>\n                            </table>\n                        <% } %>\n                    </td>\n\n                    <!-- RIGHT COLUMN -->\n                    <td width=\"48%\" style=\"vertical-align: top; padding-left: 11.5px;\" valign=\"top\">\n                        <% if (otherNews.length > 0) { %>\n                            <table width=\"100%\"\n                                   style=\"background-color: #FFFFFF; margin-bottom: 21px; min-height: 350px;\">\n                                <tr>\n                                    <!-- The background color and the category are generated dynamically -->\n                                    <td style=\"height: 100px; background-color: #003384; padding-left: 46px;\">\n                                        <span style=\"color: #FFFFFF; font-size: 20.25px; font-family: Inter, Arial, Helvetica, sans-serif;\">CATEGORY</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style=\"padding-left: 46px; padding-top: 23px; vertical-align: top;\"\n                                        valign=\"top\">\n                                        <!-- BEGIN articles titles LOOP -->\n                                        <% otherNews.forEach(function(newsItem) { %>\n                                            <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"\n                                                   style=\"margin-bottom: 23px;\">\n                                                <tr>\n                                                    <td style=\"font-size: 18px; font-family: Inter, Arial, Helvetica, sans-serif; font-weight: 900; text-decoration: none; color: #003384;\">\n                                                        <a href=\"#\" style=\"text-decoration: none; color: #003384;\">\n                                                            <%= newsItem.title %>\n                                                        </a>\n                                                    </td>\n                                                </tr>\n                                            </table>\n                                        <% }); %>\n                                    </td>\n                                </tr>\n                            </table>\n                        <% } %>\n                    </td>\n                </tr>\n            </table>\n\n        </td>\n    </tr>\n    <tr>\n        <td style=\"background-color: #003384; color: #ffffff; height: 104px;\">\n            <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\">\n                <tr>\n                    <td style=\"font-size: 18px; color:#FFFFFF; padding-left: 46px; font-family: Inter, Arial, sans-serif;\">\n                        &copy; European Maritime Safety Agency\n                    </td>\n                    <td align=\"right\" style=\"padding-right: 46px;\">\n                        <!-- Social media icons -->\n                        <a href=\"https://www.facebook.com/europeanmaritimesafetyagency/\" style=\"text-decoration: none;\">\n                            <img src=\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/facebook-64.png\"\n                                 alt=\"Facebook\" style=\"border: 0; max-height: 48px;\">\n                        </a>\n                        <a href=\"https://www.linkedin.com/company/european-maritime-safety-agency/\"\n                           style=\"text-decoration: none;\">\n                            <img src=\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/linkedin-64.png\"\n                                 alt=\"LinkedIn\" style=\"border: 0; max-height: 48px;\">\n                        </a>\n                        <a href=\"https://twitter.com/EMSA_EU\" style=\"text-decoration: none;\">\n                            <img src=\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/twitterx-64.png\"\n                                 alt=\"Twitter/X\" style=\"border: 0; max-height: 48px;\">\n                        </a>\n                        <a href=\"https://www.instagram.com/emsalisbon/\" style=\"text-decoration: none;\">\n                            <img src=\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/instagram-64.png\"\n                                 alt=\"Instagram\" style=\"border: 0; max-height: 48px;\">\n                        </a>\n                        <a href=\"https://www.youtube.com/user/EMSALisbon\" style=\"text-decoration: none;\">\n                            <img src=\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/youtube-64.png\"\n                                 alt=\"YouTube\" style=\"border: 0; max-height: 48px;\">\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n</body>\n",
  "wrapper": "",
  "isDefault": true,
  "customFields": [
    {
      "name": "maxArticlesFull",
      "type": 501,
      "caption": "How many articles",
      "defaultValue": "3",
      "isAvailable": 1
    },
    {
      "name": "bannerUrl",
      "type": 504,
      "caption": "Banner URL",
      "defaultValue": "\"https://dev.absolute.lv/emsa/intranet-0923/images/2024/staffnewsletter.jpg\"",
      "isAvailable": 1
    },
    {
      "name": "colorList",
      "type": 503,
      "caption": "Colors",
      "defaultValue": "[\"#F3A31C\", \"#816EAA\", \"#AEC300\", \"#59A64B\", \"#20AEE6\", \"#003384\", \"#E15E57\"]",
      "isAvailable": 1
    }
  ]
}